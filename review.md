# Запросы и ответы

## Запросы

```json
{
  "question": "Из чего состоит архитектура MaxPatrol 10?"
}
````

```json
{
  "question": "Какая почта у сотрудника Джека Тэйлора?"
}
```

## Ответы

```json
{
  "answer": "MaxPatrol 10 — это решение для управления уязвимостями и непрерывного мониторинга безопасности, разработанное Positive Technologies. Его архитектура включает в себя несколько ключевых компонентов, которые обеспечивают комплексную защиту и управление уязвимостями в инфраструктуре организации.\n\nВот основные компоненты архитектуры MaxPatrol 10:\n\n1. **Сервер MaxPatrol 10**:\n   - **Основной сервер**: Центральный компонент системы, отвечающий за управление сканированием, обработку данных, генерацию отчетов и интеграцию с другими системами.\n   - **Веб-интерфейс**: Позволяет администраторам и аналитикам управлять системой, настраивать сканирования, просматривать результаты и генерировать отчеты.\n\n2. **Агенты сканирования**:\n   - **Локальные агенты**: Устанавливаются на серверах и рабочих станциях для выполнения локальных сканирований и сбора данных о конфигурации и уязвимостях.\n   - **Удаленные агенты**: Используются для сканирования удаленных систем и сетей, обеспечивая гибкость и масштабируемость.\n\n3. **База данных**:\n   - Хранит информацию о сканированиях, уязвимостях, конфигурациях систем и других данных, необходимых для работы системы. База данных может быть как локальной, так и внешней.\n\n4. **Интеграционные модули**:\n   - **API**: Позволяет интегрировать MaxPatrol 10 с другими системами безопасности, такими как SIEM-системы, системы управления инцидентами и другими решениями для управления уязвимостями.\n   - **Плагины и расширения**: Обеспечивают дополнительные функции и интеграции с третьими сторонами.\n\n5. **Клиентские приложения**:\n   - **Клиентское приложение для Windows**: Позволяет пользователям управлять сканированиями и просматривать результаты на рабочих станциях с операционной системой Windows.\n   - **Мобильные приложения**: Обеспечивают доступ к системе из любого места, позволяя пользователям просматривать результаты сканирований и управлять задачами через мобильные устройства.\n\n6. **Система оповещений и уведомлений**:\n   - Настраиваемые оповещения и уведомления о новых уязвимостях, статусе сканирований и других важных событиях. Оповещения могут отправляться по электронной почте, через мессенджеры или другие каналы связи.\n\n7. **Система управления задачами и расписаниями**:\n   - Позволяет планировать регулярные сканирования, настраивать задачи и управлять их выполнением.\n\nЭти компоненты работают вместе, обеспечивая комплексный подход к управлению уязвимостями и непрерывному мониторингу безопасности, что помогает организациям своевременно выявлять и устранять уязвимости, снижая риски киберугроз."
}
```

```json
{
  "answer": "j.taylor@pt.corp"
}
```

## Возможные ошибки при работе с API

Если запросы слишком частые, то из-за ограничений Mistral API могут возникать http ошибки (400, 429, 500). Также такие ошибки могут возникать и по другим причинам.

Примеры:

```json
{
  "detail": "Сервис перегружен (Mistral 429). Попробуйте позже."
}
```

Или:

```json
Error response 400 while fetching https://api.mistral.ai/v1/chat/completions: {"object":"error","message":"Unexpected role 'user' after role 'tool'", "type":"invalid_request_message_order","param":null,"code":"3230"}
```

# Вывод
Если со стороны Mistral API не возникает ошибок, LLM-ассистент работает корректно (получает запросы и выдает результат). К сожалению, ситуация с ошибками со стороны API возникает намного чаще, из-за чего подробную оценку работоспособности сервиса провести не удалось.

Данную проблему можно решить, оплатив тариф в MistralAI либо перейти на платный OpenAI API.