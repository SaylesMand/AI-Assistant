# AI Assistant ‚Äî –ú–Ω–æ–≥–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π LLM-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç

**AI Assistant** ‚Äî —ç—Ç–æ –º–æ–¥—É–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –Ω–∞ –±–∞–∑–µ **FastAPI** –∏ **LangChain**, –∫–æ—Ç–æ—Ä—ã–π –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç —Ç—Ä–∏ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã—Ö –∞–≥–µ–Ω—Ç–∞:

* **RAG** ‚Äî –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π,
* **SQL Agent** ‚Äî –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö,
* **Web Agent** ‚Äî –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ.

–í—Å–µ –æ–Ω–∏ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–º –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º ‚Äî **Router Agent**, –∫–æ—Ç–æ—Ä—ã–π –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∑–∞–ø—Ä–æ—Å –∏ —Ä–µ—à–∞–µ—Ç, –∫–∞–∫–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å (–∏–ª–∏ –∏—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏—é).

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
ai-assistant/
‚îú‚îÄ src/
‚îÇ  ‚îú‚îÄ main.py                # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ FastAPI
‚îÇ  ‚îú‚îÄ config.py              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îÇ  ‚îú‚îÄ crawler.py             # –ü–∞—Ä—Å–∏–Ω–≥ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –≤ JSON
‚îÇ
‚îÇ  ‚îú‚îÄ agent_router/          # –ì–ª–∞–≤–Ω—ã–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä (Router Agent)
‚îÇ  ‚îÇ  ‚îú‚îÄ router_agent.py     # –ê–≥–µ–Ω—Ç, –≤—ã–±–∏—Ä–∞—é—â–∏–π –º–µ–∂–¥—É RAG / SQL / Web
‚îÇ  ‚îÇ  ‚îú‚îÄ tools/              # –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è Router Agent
‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ rag_tool.py      # –í—ã–∑–æ–≤ RAG –∞–≥–µ–Ω—Ç–∞
‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ sql_tool.py      # –í—ã–∑–æ–≤ SQL –∞–≥–µ–Ω—Ç–∞
‚îÇ  ‚îÇ  ‚îÇ  ‚îî‚îÄ web_tool.py      # –í—ã–∑–æ–≤ Web-–ø–æ–∏—Å–∫–∞
‚îÇ
‚îÇ  ‚îú‚îÄ api/                   # FastAPI —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
‚îÇ  ‚îÇ  ‚îú‚îÄ routes.py           # –û—Å–Ω–æ–≤–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã API
‚îÇ  ‚îÇ  ‚îî‚îÄ schemas.py          # Pydantic-–º–æ–¥–µ–ª–∏ –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤
‚îÇ
‚îÇ  ‚îú‚îÄ rag/                   # Retrieval-Augmented Generation (RAG)
‚îÇ  ‚îÇ  ‚îú‚îÄ __init__.py         # –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è RAG –∞–≥–µ–Ω—Ç–∞
‚îÇ  ‚îÇ  ‚îú‚îÄ loader.py           # –ß—Ç–µ–Ω–∏–µ JSON –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
‚îÇ  ‚îÇ  ‚îú‚îÄ splitter.py         # –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ —á–∞–Ω–∫–∏
‚îÇ  ‚îÇ  ‚îú‚îÄ indexing.py         # –•—Ä–∞–Ω–µ–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–æ–≤ –≤ Qdrant
‚îÇ  ‚îÇ  ‚îî‚îÄ agent.py            # –õ–æ–≥–∏–∫–∞ RAG –∞–≥–µ–Ω—Ç–∞
‚îÇ
‚îÇ  ‚îú‚îÄ sql/                   # SQL Agent
‚îÇ  ‚îÇ  ‚îú‚îÄ __init__.py         # –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è SQL –∞–≥–µ–Ω—Ç–∞
‚îÇ  ‚îÇ  ‚îî‚îÄ agent.py            # –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ LangChain
‚îÇ
‚îÇ  ‚îú‚îÄ utils/                 # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã
‚îÇ  ‚îÇ  ‚îú‚îÄ models/             # –ú–æ–¥–µ–ª–∏ LLM –∏ —Ñ–∞–±—Ä–∏–∫–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ base.py          # –ë–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã –¥–ª—è LLM
‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ llm_factory.py   # –°–æ–∑–¥–∞–Ω–∏–µ Chat/Embedding –º–æ–¥–µ–ª–µ–π
‚îÇ  ‚îÇ  ‚îî‚îÄ utils.py            # –•–µ–ª–ø–µ—Ä—ã –∏ —É—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ
‚îú‚îÄ data/                     # –õ–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (JSON, Qdrant, SQLite)
‚îÇ
‚îú‚îÄ .env.example              # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ .dockerignore             # –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è Docker —Å–±–æ—Ä–∫–∏
‚îú‚îÄ docker-compose.yml         # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è FastAPI + Qdrant
‚îú‚îÄ Dockerfile                # –û–±—Ä–∞–∑ –¥–ª—è FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ README.md                 # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îî‚îÄ requirements.txt          # Python-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone https://github.com/SaylesMand/ai-assistant.git
cd ai-assistant
```

### 2. –°–æ–∑–¥–∞–π `.env` —Ñ–∞–π–ª –Ω–∞ –æ—Å–Ω–æ–≤–µ —à–∞–±–ª–æ–Ω–∞

```bash
cp .env.example .env
```

–∏ —É–∫–∞–∂–∏ —Å–≤–æ–∏ –∑–Ω–∞—á–µ–Ω–∏—è:

```env
MISTRAL_API_KEY=your_api_key_here
QDRANT_PATH=data/qdrant
QDRANT_COLLECTION=qdrant_rag
DB_PATH=data/database.db
```

### 4. –°–æ–±–µ—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

```bash
docker-compose build
```

### 5. –ó–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å

```bash
docker-compose up -d
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:

* FastAPI ‚Äî [http://localhost:8000](http://localhost:8000)
* Qdrant ‚Äî [http://localhost:6333](http://localhost:6333)

---

## –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç        | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                  |
| ---------------- | ----------------------------------------------------------- |
| **Router Agent** | –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å (RAG / SQL / Web) |
| **RAG Agent**    | –ò—â–µ—Ç –æ—Ç–≤–µ—Ç—ã –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (—á–µ—Ä–µ–∑ Qdrant)       |
| **SQL Agent**    | –í—ã–ø–æ–ª–Ω—è–µ—Ç SQL-–∑–∞–ø—Ä–æ—Å—ã –∫ –ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î                        |
| **Web Tool**     | –í—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ                      |
| **Crawler**      | –°–∫–∞—á–∏–≤–∞–µ—Ç –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ JSON                |
| **Qdrant**       | –í–µ–∫—Ç–æ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è RAG                                 |

---

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ API `/agent/ask`.
2. Router Agent –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç –∏ –≤—ã–±–∏—Ä–∞–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç:

   * –µ—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **RAG**;
   * –µ—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –ø—Ä–æ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **SQL**;
   * –µ—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –≤–Ω–µ—à–Ω–∏–π ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Web**;
   * –µ—Å–ª–∏ –Ω—É–∂–Ω–æ ‚Äî –∫–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.
3. –ê–≥–µ–Ω—Ç —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤ JSON.

---

## –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### –ó–∞–ø—Ä–æ—Å –∫ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä—É

```bash
curl -X POST "http://localhost:8000/agent/ask" \
  -H "Content-Type: application/json" \
  -d '{"question": "–ö–∞–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —É MaxPatrol 10?"}'
```

–û—Ç–≤–µ—Ç:

```json
{
  "answer": "MaxPatrol 10 –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —Å —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º MP 10 Core..."
}
```

---

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

* **Python 3.12**
* **FastAPI**
* **LangChain**
* **Qdrant (–≤–µ–∫—Ç–æ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ)**
* **Mistral / Ollama / OpenAI (—á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏–∫—É –º–æ–¥–µ–ª–µ–π)**
* **Docker / docker-compose**

---

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è          | –û–ø–∏—Å–∞–Ω–∏–µ                             | –ü—Ä–∏–º–µ—Ä                 |
| ------------------- | ------------------------------------ | ---------------------- |
| `MISTRAL_API_KEY`   | API –∫–ª—é—á –º–æ–¥–µ–ª–∏ Mistral              | `your_mistral_api_key` |
| `QDRANT_PATH`       | –ü—É—Ç—å –∫ –ª–æ–∫–∞–ª—å–Ω–æ–º—É Qdrant-—Ö—Ä–∞–Ω–∏–ª–∏—â—É   | `data/qdrant`          |
| `QDRANT_COLLECTION` | –ò–º—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏                        | `qdrant_rag`           |
| `DB_PATH`           | –ü—É—Ç—å –∫ SQLite –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö            | `data/employees.db`    |
| `CHUNK_SIZE`        | –†–∞–∑–º–µ—Ä —á–∞–Ω–∫–æ–≤ –ø—Ä–∏ –Ω–∞—Ä–µ–∑–∫–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ | `1000`                 |
| `TOP_K`             | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤   | `5`                    |

---

## –ü–ª–∞–Ω—ã –ø–æ —Ä–∞–∑–≤–∏—Ç–∏—é

* [ ] –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞
* [ ] UI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, Streamlit)
* [ ] –ì–ª—É–±–æ–∫–∏–π –ø–æ–∏—Å–∫ (Deep Search)

---

## –ê–≤—Ç–æ—Ä

**Daniil M.**
ML Engineer
üìß [[telegram](https://t.me/daniil_domino)]
üíº [GitHub Profile](https://github.com/SaylesMand)

---
